<html>
 
<title>しらとり</title>
 
<head>

<style>
  .map-container {
    width: 4cm; /* 背景画像の横幅の60% */
    margin: 0 auto;
    border: 2px solid #ccc;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
  }

  .map-container img {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.3s ease;
  }

  /* 拡大表示用のオーバーレイ */
  .overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
 
  }

  .overlay img {
    max-width: 90vw;
    max-height: 90vh;
    object-fit: contain; /* ← はみ出し防止におすすめ！ */
    border-radius: 12px;
  }

  .map-container {
    position: relative;
    /* 他のスタイルはそのまま */
  }

  .star-image {
    width: 48px;
    height: auto;
    position: absolute;
    transform: translate(-50%, -50%);
    animation: pulse 1.5s infinite;
    z-index: 1000;
    border: none; /* ← 念のため白枠を消す指定も追加！ */
  }

.map-wrapper { 
    position: relative;
    display: inline-block;
}

@keyframes pulse {
    0%   { transform: translate(-50%, -50%) scale(1);   opacity: 1; }
    50%  { transform: translate(-50%, -50%) scale(1.5); opacity: 0.7; }
    100% { transform: translate(-50%, -50%) scale(1);   opacity: 1; }
  }
</style>

<!-- JavaScript（拡大・縮小の動作） -->
<script>
  function showOverlay() {
    document.getElementById('overlay').style.display = 'flex';
  }

  function hideOverlay() {
    document.getElementById('overlay').style.display = 'none';
  }

//  星の座標データ（画像の中のパーセンテージで指定）
const starPositions = [
  { xPercent: 80, yPercent: 70, url: 'https://www.lixil.co.jp/catalog/'  },
  { xPercent: 35, yPercent: 36, url: 'https://www.lixil.co.jp/catalog/'  },
  { xPercent: 59, yPercent: 51, url: 'https://www.lixil.co.jp/catalog/'  },
  { xPercent: 57, yPercent: 15, url: 'https://abehiroshi.la.coocan.jp/'  },
  { xPercent: 47, yPercent: 82, url: 'https://www.nicovideo.jp/'  },
];

//  星を再配置する関数（画像サイズに合わせて計算）
function repositionStars() {
  const mapImage = document.getElementById('map-image-large');
  const wrapper = document.querySelector('.map-wrapper');

  // 既存の星を削除
  wrapper.querySelectorAll('.star-image').forEach(star => {
    if (star.parentElement) {
      star.parentElement.remove();
    }
  });

  const rect = mapImage.getBoundingClientRect();

 starPositions.forEach(pos => {
  const link = document.createElement('a');
  link.href = pos.url;
  link.target = '_blank'; // 新しいタブで開く

  const star = document.createElement('img');
  star.src = '星印.png';
  star.className = 'star-image';

  const x = rect.width * pos.xPercent / 100;
  const y = rect.height * pos.yPercent / 100;

  link.style.position = 'absolute';
  link.style.left = `${x}px`;
  link.style.top = `${y}px`;
  link.style.transform = 'translate(-50%, -50%)';
  link.style.zIndex = '1000';

  link.appendChild(star);
  wrapper.appendChild(link);
 });
}z

//  拡大表示されたときに星を表示
function showOverlay() {
  const overlay = document.getElementById('overlay');
  overlay.style.display = 'flex';

  // スクロールを止める
  document.body.style.overflow = 'hidden';

  const mapImage = document.getElementById('map-image-large');

  // 画像が読み込まれてから星を配置
  if (mapImage.complete) {
    repositionStars();
  } else {
    mapImage.onload = () => {
      repositionStars();
    };
  }
}
//  画面サイズが変わったときにも再配置
window.addEventListener('resize', () => {
  const overlay = document.getElementById('overlay');
  if (overlay.style.display === 'flex') {
    repositionStars();
  }
});

function hideOverlay() {
  document.getElementById('overlay').style.display = 'none';

  // スクロール復活
  document.body.style.overflow = 'auto';

  // 星印をすべて削除
  document.querySelectorAll('.star-image').forEach(star => star.remove());
}
</script>

</head>
 
<body>
  <div style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: url('仮しらとり.jpg');
    background-size: 80vw 100vh;
    background-repeat: no-repeat;
    background-position: center;
    opacity: 0.5; /* ← ここで薄くする */
    z-index: -1;">
  </div>

<a href="https://www.shirotori-garden.jp/">
	<img src="白鳥庭園フォント見出し.png" alt="サンプル画像"  style="position: fixed; top: 0; absolute; left: 10%; height: auto;">
</a>

<!-- 横線（藍色） -->
<div style="
  margin-top: 90vh; /* 上から90%の位置に配置 */
  width: 80%;
  height: 4px;
  background-color: #003366; /* 藍色 */
  margin-left: auto;
  margin-right: auto;
  border-radius: 2px;
"></div>

<!-- 園内マップ画像（クリックで拡大） -->
<div class="map-container" onclick="showOverlay()" id="map-container">
<img src="園内マップ.jpg" alt="園内マップ" id="map-image-small">
</div>

<!-- 拡大表示用のオーバーレイ -->
<div class="overlay" id="overlay" onclick="hideOverlay()">
   <div class="map-wrapper">
 　 <img src="園内マップ.jpg" alt="拡大園内マップ" id="map-image-large">
   </div>
</div>

</body> 
</html>